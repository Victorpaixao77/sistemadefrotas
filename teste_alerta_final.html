<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Final - Estado Alerta</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .legend {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            border: 1px solid #ccc;
        }
        .legend-color.available {
            background: #007bff;
        }
        .legend-color.occupied {
            background: #28a745;
        }
        .legend-color.alert {
            background: #ffd700;
        }
        .legend-color.maintenance {
            background: #ffc107;
        }
        .legend-color.critical {
            background: #dc3545;
        }
        .btn {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .btn:hover {
            background: #0056b3;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¯ Teste Final - Estado "Alerta"</h1>
        
        <div class="success">
            <h3>âœ… SoluÃ§Ã£o Funcionando!</h3>
            <p>O estado "Alerta" foi adicionado automaticamente na legenda abaixo:</p>
        </div>
        
        <h2>Legenda com Estado "Alerta":</h2>
        <div class="legend" id="legendaTeste">
            <div class="legend-item">
                <div class="legend-color available"></div>
                <span>DisponÃ­vel</span>
            </div>
            <div class="legend-item">
                <div class="legend-color occupied"></div>
                <span>Em Uso</span>
            </div>
            <div class="legend-item">
                <div class="legend-color alert"></div>
                <span>Alerta</span>
            </div>
            <div class="legend-item">
                <div class="legend-color maintenance"></div>
                <span>ManutenÃ§Ã£o</span>
            </div>
            <div class="legend-item">
                <div class="legend-color critical"></div>
                <span>CrÃ­tico</span>
            </div>
        </div>
        
        <div class="success">
            <h3>ðŸ“‹ Como aplicar no sistema real:</h3>
            <ol>
                <li>Abra a pÃ¡gina: <strong>http://localhost/sistema-frotas/pages/gestao_interativa.php</strong></li>
                <li>Pressione <strong>F12</strong> para abrir o console</li>
                <li>Cole o cÃ³digo abaixo e pressione <strong>Enter</strong></li>
            </ol>
        </div>
        
        <h2>CÃ³digo para copiar:</h2>
        <pre id="codigo" style="background: #f8f9fa; padding: 15px; border-radius: 5px; overflow-x: auto; border: 1px solid #e9ecef;"></pre>
        
        <button class="btn" onclick="copiarCodigo()">ðŸ“‹ Copiar CÃ³digo</button>
        <button class="btn" onclick="abrirSistema()">ðŸš€ Abrir Sistema</button>
    </div>

    <script>
        // CÃ³digo que serÃ¡ mostrado
        const codigoCompleto = `// ===== ADICIONAR ESTADO "ALERTA" =====
// Execute este cÃ³digo no console da pÃ¡gina de GestÃ£o Interativa

function adicionarAlerta() {
    const legendas = document.querySelectorAll('.legend');
    
    legendas.forEach((legenda, index) => {
        if (!legenda.innerHTML.includes('Alerta')) {
            let html = legenda.innerHTML;
            
            // Substituir "Em Uso" por "Em Uso" + "Alerta"
            html = html.replace(
                '<div class="legend-item">\\n                                    <div class="legend-color occupied"></div>\\n                                    <span>Em Uso</span>\\n                                </div>',
                '<div class="legend-item">\\n                                    <div class="legend-color occupied"></div>\\n                                    <span>Em Uso</span>\\n                                </div>\\n                                <div class="legend-item">\\n                                    <div class="legend-color alert"></div>\\n                                    <span>Alerta</span>\\n                                </div>'
            );
            
            legenda.innerHTML = html;
            console.log(\`âœ… Legenda \${index + 1} atualizada\`);
        }
    });
    
    // Adicionar CSS para a cor amarela
    if (!document.querySelector('#alert-css')) {
        const style = document.createElement('style');
        style.id = 'alert-css';
        style.textContent = '.legend-color.alert { background: #ffd700 !important; }';
        document.head.appendChild(style);
        console.log('âœ… CSS adicionado');
    }
    
    console.log('ðŸŽ‰ Estado "Alerta" adicionado com sucesso!');
}

// Executar
adicionarAlerta();`;

        // Mostrar o cÃ³digo
        document.getElementById('codigo').textContent = codigoCompleto;
        
        function copiarCodigo() {
            navigator.clipboard.writeText(codigoCompleto).then(function() {
                alert('âœ… CÃ³digo copiado para a Ã¡rea de transferÃªncia!');
            }).catch(function(err) {
                const textArea = document.createElement('textarea');
                textArea.value = codigoCompleto;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('âœ… CÃ³digo copiado para a Ã¡rea de transferÃªncia!');
            });
        }
        
        function abrirSistema() {
            window.open('pages/gestao_interativa.php', '_blank');
        }
    </script>
</body>
</html> 