<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atualizar Legenda - Sistema de Frotas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .btn {
            background: #007bff;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        .btn:hover {
            background: #0056b3;
        }
        .btn-success {
            background: #28a745;
        }
        .btn-success:hover {
            background: #1e7e34;
        }
        .code {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        .result {
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîÑ Atualizar Legenda de Alerta</h1>
        <p>Este script ir√° adicionar o estado "Alerta" nas legendas do sistema de gest√£o de pneus.</p>
        
        <div class="info">
            <strong>‚ö†Ô∏è Importante:</strong> 
            <ol>
                <li>Abra a p√°gina de Gest√£o Interativa de Pneus em outra aba</li>
                <li>Pressione F12 para abrir o console do navegador</li>
                <li>Copie o c√≥digo abaixo e cole no console</li>
                <li>Pressione Enter para executar</li>
            </ol>
        </div>

        <h3>C√≥digo JavaScript para copiar:</h3>
        <div class="code" id="codeToCopy">
// ===== ATUALIZAR LEGENDAS COM ESTADO DE ALERTA =====
// Execute este c√≥digo no console da p√°gina de Gest√£o Interativa

console.log('üîÑ Iniciando atualiza√ß√£o das legendas...');

function atualizarLegendas() {
    try {
        console.log('üìã Procurando legendas...');
        
        // Atualizar primeira legenda (modo padr√£o)
        const legenda1 = document.querySelector('.legend');
        if (legenda1) {
            console.log('‚úÖ Encontrada primeira legenda (modo padr√£o)');
            legenda1.innerHTML = `
                <div class="legend-item">
                    <div class="legend-color available"></div>
                    <span>Dispon√≠vel</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color occupied"></div>
                    <span>Em Uso</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color alert"></div>
                    <span>Alerta</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color maintenance"></div>
                    <span>Manuten√ß√£o</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color critical"></div>
                    <span>Cr√≠tico</span>
                </div>
            `;
        } else {
            console.log('‚ö†Ô∏è Primeira legenda n√£o encontrada');
        }

        // Atualizar segunda legenda (modo flex√≠vel)
        const legenda2 = document.querySelector('#area-modo-flexivel .legend');
        if (legenda2) {
            console.log('‚úÖ Encontrada segunda legenda (modo flex√≠vel)');
            legenda2.innerHTML = `
                <div class="legend-item">
                    <div class="legend-color available"></div>
                    <span>Dispon√≠vel</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color occupied"></div>
                    <span>Em Uso</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color alert"></div>
                    <span>Alerta</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color maintenance"></div>
                    <span>Manuten√ß√£o</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color critical"></div>
                    <span>Cr√≠tico</span>
                </div>
            `;
        } else {
            console.log('‚ö†Ô∏è Segunda legenda n√£o encontrada (modo flex√≠vel)');
        }

        // Adicionar CSS para a cor de alerta se n√£o existir
        if (!document.querySelector('#alert-css')) {
            console.log('üé® Adicionando estilos CSS para alerta...');
            const style = document.createElement('style');
            style.id = 'alert-css';
            style.textContent = `
                .legend-color.alert {
                    background: linear-gradient(45deg, #ffd700, #ffed4e);
                    box-shadow: 0 0 10px rgba(255, 215, 0, 0.6);
                    animation: alertPulse 2s infinite;
                }
                
                @keyframes alertPulse {
                    0%, 100% { 
                        box-shadow: 0 0 10px rgba(255, 215, 0, 0.6); 
                    }
                    50% { 
                        box-shadow: 0 0 20px rgba(255, 215, 0, 0.8); 
                    }
                }
                
                .legend-item:has(.legend-color.alert) span {
                    color: #b8860b;
                    font-weight: 600;
                }
            `;
            document.head.appendChild(style);
            console.log('‚úÖ Estilos CSS adicionados');
        } else {
            console.log('‚ÑπÔ∏è Estilos CSS j√° existem');
        }

        console.log('üéâ Atualiza√ß√£o das legendas conclu√≠da!');
        console.log('üìã Agora voc√™ tem 5 estados: Dispon√≠vel, Em Uso, Alerta, Manuten√ß√£o, Cr√≠tico');
        
        return true;
    } catch (error) {
        console.error('‚ùå Erro ao atualizar legendas:', error);
        return false;
    }
}

// Executar a fun√ß√£o
const resultado = atualizarLegendas();

// Verificar se funcionou
if (resultado) {
    console.log('‚úÖ Sucesso! Verifique as legendas na p√°gina.');
} else {
    console.log('‚ùå Houve um problema. Verifique o console para detalhes.');
}
        </div>

        <button class="btn" onclick="copyCode()">üìã Copiar C√≥digo</button>
        <button class="btn btn-success" onclick="openGestaoPage()">üöÄ Abrir Gest√£o Interativa</button>

        <div class="info">
            <h3>üìã Passos para executar:</h3>
            <ol>
                <li>Clique em "Abrir Gest√£o Interativa" para ir √† p√°gina</li>
                <li>Pressione <strong>F12</strong> para abrir o console</li>
                <li>Clique em "Copiar C√≥digo" para copiar o JavaScript</li>
                <li>Cole o c√≥digo no console e pressione <strong>Enter</strong></li>
                <li>Verifique se a legenda "Alerta" apareceu</li>
            </ol>
        </div>

        <div class="success">
            <h3>‚úÖ Resultado esperado:</h3>
            <ul>
                <li><strong>Dispon√≠vel</strong> (azul)</li>
                <li><strong>Em Uso</strong> (verde)</li>
                <li><strong>Alerta</strong> (amarelo/dourado com anima√ß√£o) ‚Üê <strong>NOVO!</strong></li>
                <li><strong>Manuten√ß√£o</strong> (laranja)</li>
                <li><strong>Cr√≠tico</strong> (vermelho)</li>
            </ul>
        </div>
    </div>

    <script>
        function copyCode() {
            const codeElement = document.getElementById('codeToCopy');
            const text = codeElement.textContent;
            
            navigator.clipboard.writeText(text).then(function() {
                alert('‚úÖ C√≥digo copiado para a √°rea de transfer√™ncia!');
            }).catch(function(err) {
                // Fallback para navegadores mais antigos
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('‚úÖ C√≥digo copiado para a √°rea de transfer√™ncia!');
            });
        }

        function openGestaoPage() {
            window.open('pages/gestao_interativa.php', '_blank');
        }
    </script>
</body>
</html> 